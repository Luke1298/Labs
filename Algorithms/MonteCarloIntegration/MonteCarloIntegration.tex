\newcommand{\fab}{f_{{\bf a},{\bf b}}}

\lab{Algorithms}{Monte Carlo Integration}{Monte Carlo Integration}
\objective{Learn the benefits of using Monte Carlo methods when numerically
integrating in many dimensions.}

Many numerical integration techniques rely on finding deterministic ways to
approximate the integrand, and using these approximations in a Riemann
summation. However, these techniques do not generalize well when the integration
takes place in a high-dimensional space. This lab presents a way to numerical
approximate the value
\[I = \int_{\Omega} f({\bf x}) \;d{\bf x} \]
when $\Omega$ is a high-dimensional space, and we assume the value of the
integral is finite.

\section*{Monte Carlo Integration}
Monte Carlo methods are algorithms that use random numbers to approximate a
desired result. (The name refers to the famous Monte Carlo Casino.) Monte Carlo
integration uses random vectors taken uniformly from the domain to approximate
an intergal.

Suppose we wish to approximate the above integral. We note the average, or
expected, value of the function $f$ on the space $\Omega$ is given by
\[f_{\text{ave}} = \frac{1}{V(\Omega)}\int_{\Omega} f({\bf x}) d{\bf x} \]
where $V$ denotes volume. However, the law of large numbers from probability
theory roughly states that
\[f_{\text{ave}} = \lim_{n \to \infty} \frac{1}{n} \sum_{k=1}^{n} f({\bf x}_k) \]
when the ${\bf x}_i$ are uniform random samples of $\Omega$. We see that we can
approximate the desired value as
\[I \approx I_N = V(\Omega)\frac{1}{N}\sum_{k=1}^{N} f({\bf x}_k) \]
for large $N$, and that this approximation gets better as $N$ increases.
Remarkably, for the estimation of the error we have
\[\abs{I - I_N} \approx V(\Omega)\frac{1}{\sqrt{N}} =
O\left(\frac{1}{\sqrt{N}}\right) \] 
The decay of the estimation of the error depends only on $N$, and not on the
dimension of the space $\Omega$. This is the key reason why Monte Carlo
integration works well in high dimensions.

\section*{Example}

In order to demonstrate the benefits of Monte Carlo integration, we introduce a
special class of functions. Let $\Omega = [0,1]^d$ be the unit cube in
$\mathbb{R}^d$. For ${\bf a} \in \Omega$, ${\bf b} \in \mathbb{N}^d$, define
\[\fab({\bf x}) = \sum_{i=1}^{d} \sin(2\pi b_i x_i + a_i) \]
This class of functions has desirable properties for our example. First, the
functions are defined on a space of arbitrary dimension. Also, it is easy
to analytically calculate
\[\int_{\Omega} \fab({\bf x}) d{\bf x} = 0 \]
for any $d, {\bf a}, {\bf b}$. However, the functions are also interestingly
shaped, and are not trivially approximated. We finally note that $V(\Omega) = 1$.



\begin{problem}
\label{prob:fab}
Define a function that accepts an $N \times d$ dimensional array, makes a random
choice for ${\bf a}$ and ${\bf b}$, and returns $\fab({\bf x}_n)$ evaluated for
each of the $N$ vectors. Restrict your choice of ${\bf b}$ to the set
$\{1,2,\ldots,9\}^d$.
\end{problem}

\begin{problem}
\label{prob:err}
Define a function 
\end{problem}
