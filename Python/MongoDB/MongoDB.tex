\lab{Python}{MongoDB}{MongoDB}
\objective{A very basic, non-comprehensive introduction to MongoDB}
\label{lab:mongodb}

\section*{NoSQL Databases}
The most popular databases of the last decade were relational databases.
As time passed and needs changed, relational databases became impractical for some sets of data.
Sometimes the relation model is too structured.
Some data does not have a fixed schema.
The limits of traditional databases were being hit.

There arose a new family of databases at attempted to solve the problem.
Instead of designing a new database to meet every need, databases were created for specific scenarios.

Instead of using one model of database
MongoDB is a database.

Several of the popular databases that MongoDB, Cassandra, Redis, and Neo4j

In this lab, we will focus on MongoDB.

\section*{MongoDB}
MongoDB is a document database.
It is best suited for storing data that does not have a fixed schema.

Each MongoDB database is made up of collections of one or more documents.
These documents are a special type of JSON object called BSON (Binary JSON).

MongoDB has both a commandline interface and Python bindings.
This lab will use the officiall supported Python bindings, pymongo.


\begin{info}
Make sure you have a MongoDB server running before trying to connect to a database via Python.
It is best to be running the latest stable version of MongoDB (at least version 2.6).
\end{info}

You can run a MongoDB server as follows:
\begin{lstlisting}[language=]
$ mongod --dbpath ./data/db
\end{lstlisting}

\begin{lstlisting}
from pymongo import MongoClient

# Create an instance of a client
# Connect on the default host and port
mc = MongoClient()
\end{lstlisting}

\section*{Creating and Removing Collections and Documents}
A database stores collections.
A collection stores documents.
That is the basic heirarchy of MongoDB.
Each database can have several collections, each with their own documents.

From the collections, we need to create a database that will hold our collections.
Then we create a new collection.
Or rather, we simply create a reference to a new collection.
The new collection will not actually be created until we add documents to it.
\begin{lstlisting}
# Create a new database
db = mc.db1

# Create a new collection
col = db.collection1
\end{lstlisting}

Documents in MongoDB are represented as JSON-like objects.
MongoDB databases don't adhere to a set schema.
Each document can have its own fields.
\begin{lstlisting}
col.insert({'name': 'Jack', 'age': 22, 'student': True, 'classes': ['Math', 'Geography', 'English']})
col.insert({'name': 'Jill', 'age': 24, 'student': False})
\end{lstlisting}
Unfortunately, MongoDB doesn't tell us if the data was successfully written


\section*{Querying for Documents}
MongoDB uses a \emph{query by example} paradigm for querying.
This means, when you query, you provide an example that the database uses to match with other documents.